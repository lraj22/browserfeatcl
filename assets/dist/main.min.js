function ready(e){timestampStatus("Data fetched and tests started"),window.bcd=e;var r=0,n=testsToRun.length;!function t(){var o=cloneArray(testsToRun[r]),s=tests,a=e;o.forEach(function(e){s=s[e],a=a[e]}),a=a.__compat.support;var i={};envNames.forEach(function(e){i[e]=[],a[e]instanceof Array||(a[e]=[a[e]]),a[e].forEach(function(r){if(null!==i[e]){if(r.flags){i[e]=null;return}r.version_added&&(i[e]=arrayUnion(i[e],generateArray(parseFloat(r.version_added),parseFloat(r.version_last||upperVersion),.1)))}})});var c=s();c?envNames.forEach(function(e){null!==i[e]&&(validVersions[e]=arrayIntersection(validVersions[e],i[e]))}):envNames.forEach(function(e){null!==i[e]&&(validVersions[e]=arrayDifference(validVersions[e],i[e]))}),log(o.join("."),c,i,"Current valid versions",cloneObj(validVersions)),++r<n?setTimeout(t,0):testsCompleted()}()}function testsCompleted(){var e,r=[],n=document.getElementById("calculated");envNames.forEach(function(e){document.getElementById(e+"Range").textContent=versionArraySimplify(validVersions[e],e).join(", "),validVersions[e].length>0&&r.push(e)});var t=!1;2===r.length&&validVersions.chrome.length>0&&JSON.stringify(versionArraySimplify(validVersions.chrome,"chrome"))===JSON.stringify(versionArraySimplify(validVersions.edge,"edge"))?(t=!0,e="Chromium"):r.length>0&&(e=r[0][0].toUpperCase()+r[0].slice(1)),0===r.length&&(n.innerHTML="<strong class=\"error\">We couldn't determine what browser you're using...</strong><p>Please double check your browser is within the supported versions below!</p>"),(t||1===r.length)&&(n.innerHTML='<strong class="success">You\'re using '+e+" "+versionArraySimplify(validVersions[r[0]],r[0])+"!</strong>"+(t?"<p>Both Google Chrome and Microsoft Edge use the Chromium browser technology behind the scenes, so their features are more or less the same. You're using one of them!</p>":"")),log("Final valid versions",validVersions),timestampStatus("Tests processing complete")}function isBrowserUnsupported(){try{if("documentMode"in document||!document.createElement("canvas").getContext("2d"))return!0}catch(e){return e}}window.onerror=function(e){document.getElementById("calculated").innerHTML='<strong class="error">Error occurred! Page may not work as expected. ('+e+')</strong>"'},window.addEventListener("load",function(){timestampStatus("Page ready");var calculated,browserUnsupported=isBrowserUnsupported();if(browserUnsupported){document.getElementById("calculated").innerHTML='<strong class="error">Your browser is unsupported!'+(!0===browserUnsupported?"":" Error occurred. ("+browserUnsupported+")")+"</strong>";return}var req=new XMLHttpRequest;req.responseType="json",req.open("GET","./mdnbcd-data.json",!0),req.onload=function(){if(200!==this.status){var json;document.getElementById("calculated").innerHTML='<strong class="error">Error loading support data.  Request returned '+this.status+".</strong><p>Checks will not continue.</p>";return}"response"in req?ready(req.response):"JSON"in window&&"parse"in JSON?ready(JSON.parse(req.responseText)):(eval("json = "+req.responseText),ready(json))},req.onerror=function(){document.getElementById("calculated").innerHTML='<strong class="error">Error loading support data.</strong><p>Checks will not continue.</p>'},req.send(null)});
